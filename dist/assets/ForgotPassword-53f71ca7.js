import{_ as h,r as o,o as a,c as d,w as t,a as s,b as w,e as v,t as b}from"./index-dfdf83d7.js";const R={name:"ForgotPassword",data(){return{email:"",errors:[],passwordResetEmailRequested:!1,passwordResetEmailSent:!1}},created(){document.title="Forgot Password - Imperial"},methods:{submitForgotPassword(n){this.passwordResetEmailRequested=!0,fetch("http://localhost:3000/accounts/password",{method:"POST",headers:{"X-CSRF-Token":this.$cookies.get("CSRF-TOKEN"),"Content-Type":"application/json"},body:JSON.stringify({account:{email:this.email}})}).then(e=>e.json()).then(e=>{e.errors?this.errors=e.errors:(this.errors=[],this.passwordResetEmailSent=!0)}),n.preventDefault()}}},S={key:0};function k(n,e,y,g,r,m){const c=o("v-text-field"),l=o("v-row"),u=o("v-btn"),i=o("v-container"),_=o("v-form"),p=o("v-sheet");return a(),d(i,null,{default:t(()=>[s(p,{width:"300",class:"mx-auto"},{default:t(()=>[r.passwordResetEmailSent?(a(),w("div",S," Check your email (and your spam folder). ")):(a(),d(_,{key:1,onSubmit:m.submitForgotPassword},{default:t(()=>[s(i,null,{default:t(()=>[s(l,null,{default:t(()=>[s(c,{modelValue:r.email,"onUpdate:modelValue":e[0]||(e[0]=f=>r.email=f),label:"Email",required:""},null,8,["modelValue"])]),_:1}),s(l,null,{default:t(()=>[s(u,{type:"submit",block:""},{default:t(()=>[v(b(r.passwordResetEmailRequested?"Sending you an email...":"Get password reset link"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"]))]),_:1})]),_:1})}const x=h(R,[["render",k]]);export{x as default};
