import{_ as v,r as l,o as i,c as b,w as o,a as t,b as d,d as g,F as w,e as V,t as x}from"./index-dfdf83d7.js";const k={name:"Register",props:{profile:{type:Object,default:()=>{}}},emits:["registered"],data(){return{email:"",errors:[],password:"",username:""}},created(){document.title="Register - Imperial"},methods:{register(u){fetch("http://localhost:3000/accounts",{method:"POST",headers:{"X-CSRF-Token":this.$cookies.get("CSRF-TOKEN"),"Content-Type":"application/json"},body:JSON.stringify({name:this.username,email:this.email,password:this.password})}).then(e=>e.json()).then(e=>{e.email?(this.$emit("registered",{...e,oldUsername:this.profile.username}),this.errors=[],this.$router.push("/")):this.errors=e}),u.preventDefault()}}};function y(u,e,S,R,r,p){const a=l("v-text-field"),n=l("v-row"),_=l("v-btn"),m=l("v-container"),c=l("v-form"),f=l("v-sheet");return i(),b(m,null,{default:o(()=>[t(f,{width:"300",class:"mx-auto"},{default:o(()=>[(i(!0),d(w,null,g(r.errors,(s,h)=>(i(),d("div",{key:h},x(s),1))),128)),t(c,{onSubmit:p.register},{default:o(()=>[t(m,null,{default:o(()=>[t(n,null,{default:o(()=>[t(a,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=s=>r.username=s),label:"Username",required:""},null,8,["modelValue"])]),_:1}),t(n,null,{default:o(()=>[t(a,{modelValue:r.email,"onUpdate:modelValue":e[1]||(e[1]=s=>r.email=s),label:"Email",required:""},null,8,["modelValue"])]),_:1}),t(n,null,{default:o(()=>[t(a,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=s=>r.password=s),label:"Password",required:""},null,8,["modelValue"])]),_:1}),t(n,null,{default:o(()=>[t(_,{type:"submit",block:""},{default:o(()=>[V(" Register ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}const T=v(k,[["render",y]]);export{T as default};
